"""
FAQ Database for Client Service
Common questions and answers for ProVision Brokerage
"""

FAQ_DATABASE = {
    "account_management": [
        {
            "question": "How do I access my account information?",
            "answer": "You can access your account through our secure client portal at portal.provisionbrokerage.com. If you haven't registered yet, contact us at support@provisionbrokerage.com for your registration link.",
            "category": "Account Access",
            "keywords": ["login", "portal", "access", "account"],
        },
        {
            "question": "How do I update my contact information?",
            "answer": "To update your contact information, log into your client portal and go to Profile > Contact Information. Alternatively, call us at 1-800-XXX-XXXX or email support@provisionbrokerage.com.",
            "category": "Account Management",
            "keywords": ["update", "contact", "address", "phone", "email"],
        },
        {
            "question": "How often will I receive account statements?",
            "answer": "You'll receive quarterly statements by mail and email. You can also view real-time account information anytime through your client portal.",
            "category": "Statements",
            "keywords": ["statement", "quarterly", "reports"],
        },
    ],
    "annuities": [
        {
            "question": "What is an annuity?",
            "answer": "An annuity is a contract with an insurance company that provides guaranteed income, typically for retirement. You pay premiums (lump sum or over time), and the insurance company guarantees income payments to you, often for life.",
            "category": "Annuity Basics",
            "keywords": ["annuity", "what is", "definition", "guaranteed income"],
        },
        {
            "question": "What's the difference between fixed and variable annuities?",
            "answer": "Fixed annuities provide guaranteed fixed interest rates with no market risk. Variable annuities allow you to invest in sub-accounts (like mutual funds) with potential for higher returns but also market risk. Fixed annuities are simpler and more conservative, while variable annuities offer growth potential.",
            "category": "Annuity Types",
            "keywords": ["fixed", "variable", "difference", "types"],
        },
        {
            "question": "Can I withdraw money from my annuity?",
            "answer": "Yes, but with limitations. Most annuities allow 10% annual penalty-free withdrawals. Withdrawals beyond this may incur surrender charges (typically first 5-10 years) and tax penalties if you're under 59. Always review your specific contract terms.",
            "category": "Withdrawals",
            "keywords": ["withdraw", "surrender", "penalty", "liquidity"],
        },
        {
            "question": "Are annuities safe?",
            "answer": "Annuities are backed by the financial strength of the issuing insurance company and state guaranty associations (up to certain limits, typically $250,000-$500,000). We work with highly-rated insurance companies (A+ or better) to ensure security.",
            "category": "Safety",
            "keywords": ["safe", "guaranteed", "risk", "protection"],
        },
        {
            "question": "What happens to my annuity when I die?",
            "answer": "It depends on your contract and beneficiary designations. Most annuities offer death benefits, paying remaining value to your beneficiaries. Some have guaranteed minimum death benefits. Always designate beneficiaries and review them regularly.",
            "category": "Death Benefits",
            "keywords": ["death", "beneficiary", "inheritance", "die"],
        },
    ],
    "retirement_planning": [
        {
            "question": "When should I start retirement planning?",
            "answer": "The best time to start is now! The earlier you start, the more time your money has to grow through compound interest. Even small contributions in your 20s and 30s can grow significantly by retirement.",
            "category": "Planning Timeline",
            "keywords": ["when", "start", "age", "timing"],
        },
        {
            "question": "How much do I need to retire?",
            "answer": "A common rule of thumb is 10-12 times your annual income, or enough to replace 70-80% of your pre-retirement income. However, the actual amount depends on your lifestyle, healthcare needs, and other factors. We offer free retirement needs analysis.",
            "category": "Retirement Needs",
            "keywords": ["how much", "savings", "need", "amount"],
        },
        {
            "question": "When should I claim Social Security?",
            "answer": "It depends on your situation, but delaying from age 62 to 70 increases your benefit by approximately 76%. Consider your health, other income sources, and need for current income. We provide personalized Social Security analysis to optimize your claiming strategy.",
            "category": "Social Security",
            "keywords": ["social security", "claim", "age", "benefits"],
        },
        {
            "question": "What is the 4% rule?",
            "answer": "The 4% rule suggests withdrawing 4% of your retirement portfolio in the first year, then adjusting for inflation annually. Historical data shows this has a 95% success rate over 30 years. However, we recommend more dynamic strategies based on your specific situation.",
            "category": "Withdrawal Strategies",
            "keywords": ["4% rule", "withdrawal", "spending"],
        },
    ],
    "appointments_and_services": [
        {
            "question": "How do I schedule an appointment?",
            "answer": "You can schedule appointments three ways: (1) Through our AI chatbot on this website, (2) Call us at 1-800-XXX-XXXX, or (3) Visit our booking page at provisionbrokerage.com/book. Most appointments are available within 3-5 business days.",
            "category": "Scheduling",
            "keywords": ["appointment", "schedule", "book", "meeting"],
        },
        {
            "question": "Are consultations really free?",
            "answer": "Yes! Your first consultation is completely free with no obligation. We'll review your situation, answer questions, and provide guidance. There's no pressure to purchase anything.",
            "category": "Consultations",
            "keywords": ["free", "consultation", "cost", "price"],
        },
        {
            "question": "Can I meet virtually or do I need to come to your office?",
            "answer": "We offer both! You can meet virtually via Zoom/phone or in-person at our office. Virtual meetings are convenient and just as effective. Choose what works best for you.",
            "category": "Meeting Options",
            "keywords": ["virtual", "zoom", "online", "in-person"],
        },
        {
            "question": "How long does a consultation take?",
            "answer": "Initial consultations typically last 15-30 minutes. Comprehensive planning sessions are 60-90 minutes. We respect your time and keep meetings focused and productive.",
            "category": "Consultation Duration",
            "keywords": ["how long", "duration", "time"],
        },
    ],
    "seminars": [
        {
            "question": "Are your seminars really free?",
            "answer": "Yes! Our educational seminars are completely free. We provide valuable retirement planning education with no obligation. Some seminars include complimentary meals or refreshments.",
            "category": "Seminar Costs",
            "keywords": ["free", "seminar", "cost", "webinar"],
        },
        {
            "question": "Can I bring a guest to the seminar?",
            "answer": "Absolutely! We encourage you to bring your spouse, partner, or adult family member. Retirement planning decisions affect the whole family. Just let us know when registering so we can plan accordingly.",
            "category": "Seminar Guests",
            "keywords": ["guest", "spouse", "bring", "attend"],
        },
        {
            "question": "Are seminars recorded?",
            "answer": "Virtual seminars are recorded and available for 7 days after the event. You'll receive a link to the recording via email. In-person seminars are not typically recorded.",
            "category": "Recordings",
            "keywords": ["recording", "replay", "video"],
        },
        {
            "question": "What should I bring to a seminar?",
            "answer": "Just yourself and an open mind! We provide all materials. If you have specific questions about your situation, feel free to bring relevant documents, but it's not required.",
            "category": "Seminar Preparation",
            "keywords": ["bring", "preparation", "materials"],
        },
    ],
    "technical_support": [
        {
            "question": "I forgot my password. How do I reset it?",
            "answer": "Click 'Forgot Password' on the login page at portal.provisionbrokerage.com. You'll receive a password reset link via email. If you don't receive it within 5 minutes, check your spam folder or contact support@provisionbrokerage.com.",
            "category": "Login Issues",
            "keywords": ["password", "reset", "forgot", "login"],
        },
        {
            "question": "The website isn't working properly. What should I do?",
            "answer": "Try these steps: (1) Clear your browser cache, (2) Try a different browser (Chrome, Firefox, Safari), (3) Ensure you're using an updated browser version. If issues persist, contact support@provisionbrokerage.com with details.",
            "category": "Technical Issues",
            "keywords": ["website", "error", "broken", "not working"],
        },
        {
            "question": "How do I download my tax documents?",
            "answer": "Log into your client portal, go to Documents > Tax Forms. You can download 1099-R forms and other tax documents. Tax forms are typically available by January 31st each year.",
            "category": "Documents",
            "keywords": ["tax", "1099", "download", "documents"],
        },
    ],
    "compliance_and_privacy": [
        {
            "question": "How is my personal information protected?",
            "answer": "We use bank-level 256-bit encryption, secure servers, and strict access controls. We never sell your information to third parties. Review our complete Privacy Policy at provisionbrokerage.com/privacy.",
            "category": "Privacy",
            "keywords": ["privacy", "security", "data", "protection"],
        },
        {
            "question": "Are you a fiduciary?",
            "answer": "We act in your best interest and adhere to strict suitability standards. Our recommendations are based on your specific needs, goals, and situation. We clearly disclose all compensation and potential conflicts.",
            "category": "Fiduciary",
            "keywords": ["fiduciary", "trust", "best interest"],
        },
        {
            "question": "How do you get paid?",
            "answer": "We're compensated through commissions from insurance companies when you purchase products, or through advisory fees for planning services. All compensation is disclosed in writing before you make any decisions. There's never a fee for initial consultations.",
            "category": "Compensation",
            "keywords": ["fees", "paid", "compensation", "commissions"],
        },
    ],
}


def search_faq(query):
    """Search FAQ database for relevant questions"""
    query_lower = query.lower()
    results = []

    for category, faqs in FAQ_DATABASE.items():
        for faq in faqs:
            # Check if query matches question, answer, or keywords
            if (
                query_lower in faq["question"].lower()
                or query_lower in faq["answer"].lower()
                or any(keyword in query_lower for keyword in faq["keywords"])
            ):
                results.append(faq)

    return results


def get_faq_by_category(category):
    """Get all FAQs for a specific category"""
    return FAQ_DATABASE.get(category, [])


def get_all_categories():
    """Get list of all FAQ categories"""
    return list(FAQ_DATABASE.keys())


if __name__ == "__main__":
    print("FAQ Database")
    print("=" * 60)
    print(f"\nTotal Categories: {len(FAQ_DATABASE)}")

    total_faqs = sum(len(faqs) for faqs in FAQ_DATABASE.values())
    print(f"Total FAQs: {total_faqs}")

    print("\nCategories:")
    for category, faqs in FAQ_DATABASE.items():
        print(f"   {category}: {len(faqs)} questions")
